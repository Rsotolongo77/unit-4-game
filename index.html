<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!--appropriate links established-->
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Aclonica|Sue+Ellen+Francisco&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Crystal Collector</title>

</head>

<body>
    <!--Game introduced and directions set-->
    <div class="jumbotron jumbotron-fluid">
        <div class="container">

            <h1 class="display-3">Crystal Collector</h1>

            <p class="lead">Click on the crystals to produce random crystal points. Match the exact amount of crystal
                points the computer generates and prove your crystal wizardry!</p>
        </div>
    </div>

    <!--nav area with scores, wins, losses, and restart-->
    <div class="navBarControl">
        <h2>Number to match: <span id="number-to-match"></span></h2>
        <h2>user score: <span id="current-user-score"></span></h2>
        <h2>Wins: <span id="wins"></span></h2>
        <h2>Losses: <span id="losses"></span></h2>
        <h2 class=""></h2>
        <button id="restart">Restart Game</button>

    </div>

    <br>
    <br>
    <br>
    <br>
    <br>

    <!--crystal images with random assigned values-->
    <div id="crystals"></div>









    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            //create variables//
            var wins = 0;
            var losses = 0;
            var counter = 0;
            //generate random number for user to match//

            var targetNumber = [];
            function generateTargetNumber() {
                targetNumber = Math.floor(Math.random() * (120 - 19) + 19);
            }
            generateTargetNumber();





            //Hook into html to render random number results and update accordingly//
            function updatedisplay() {
                $("#number-to-match").text(targetNumber);
                $("#wins").text(wins);
                $("#losses").text(losses);
                $("#current-user-score").text(counter);
            }
            updatedisplay();


            function resetScores() {
                counter = 0;
                generateTargetNumber();
            };
            //generate random number from 1-12 and assign 4 into new array//
            var gemArray = []
            while (gemArray.length < 4) {
                var r = Math.floor(Math.random() * 11) + 1;
                if (gemArray.indexOf(r) === -1) gemArray.push(r);
            }
            console.log(gemArray);
            //create for loop that will assign each crystal a random number from new array of 4//


            for (var i = 0; i < gemArray.length; i++) {
                //crystal img tag created//
                var imageCrystal = $("<img>");
                //each new crystal tag is also assigned a new class//
                imageCrystal.addClass("crystal-image");
                //actual image is attached to tag//
                imageCrystal.attr("src", "assets/images/diamond.png");
                //random value from array is assigned//
                imageCrystal.attr("data-crystalvalue", gemArray[i]);
                //attributes are combined and then rendered to page via ID//
                $("#crystals").append(imageCrystal);
            }

            //restart game//
            $("#restart").on("click", function () {

                resetScores();
                updatedisplay();
                $(".crystal-image").on("click");

            });





            //initiate on-click for desired process once image is clicked//
            $(".crystal-image").on("click", function () {


                //puts in data value appended to image into integer form. applies new variable holding this integer//
                var crystalValue = ($(this).attr("data-crystalvalue"));
                crystalValue = parseInt(crystalValue);
                //adds integer value on crystal clicked to counter which is then displayed on screen//
                counter += crystalValue;
                console.log(counter);
                updatedisplay();



                //enter conditionals to determine game outcome//
                if (counter == targetNumber) {
                    wins++;
                    updatedisplay();
                    $(".crystal-image").off("click");



                }


                //enter conditionals to determine game outcome//
                else if (counter >= targetNumber) {
                    losses++;
                    updatedisplay();
                    $(".crystal-image").off("click");

                }




            });
        });
    </script>




    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>









</body>

</html>